@page "/date-added"

<title>Date Added - MemoryMosaic</title>

<LibraryContentViewer @ref="@lcv" NoItemsText="Your Entire Library, Sorted by Date Added" Where="separate = false" OrderByFields="@(new[] {"date_added", "date_taken"})" PersistentHeader="true">
	<AdditionalButtons>
		<IconTextButton Icon="sort" Text="@(lcv.SortDesc ? "Newest First" : "Oldest First")" OnClick="@UpdateSorting" Style="margin-left: 8px; margin-right: -30px"/>
	</AdditionalButtons>
</LibraryContentViewer>

@code {
	private LibraryContentViewer lcv = null!;

	private async void UpdateSorting()
	{
		lcv.SortDesc = !lcv.SortDesc;
		StateHasChanged();
		await Task.Delay(0);
		await Task.Delay(1);
		lcv.Reset();
	}
}