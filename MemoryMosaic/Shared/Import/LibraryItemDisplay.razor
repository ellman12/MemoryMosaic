@inherits ItemDisplay<LibraryItem>
@using MemoryMosaic.Pages

<div class="libraryItem">
	<img src="data:image/jpg;base64,@Item.Thumbnail" alt="" loading="lazy"/>
	<span class="@PathWidth @TextClass">@("Library/" + Item.Path)</span>
	
	<div class="dateDisplay">
		<span>DT: @(Item.DateTaken == null ? "No Date Taken" : Item.DateTaken)</span>
		<span>DA: @Item.DateAdded</span>
	</div>
	
	<span>@(Item.DateDeleted != null ? "In Trash" : "")</span>
	<IconButton Icon="trash" OnClick="@DeleteBtnClick"/>
</div>

@code {
	private void DeleteBtnClick()
	{
		if (Item.DateDeleted == null)
			C.MoveToTrash(Item.Id);
		C.RemoveFromTrash(Item);
		Import.LibraryCache.Remove(Item.Path);
		Import.Rerender();
	}
}